(function(){const D=document.createElement("link").relList;if(D&&D.supports&&D.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))a(g);new MutationObserver(g=>{for(const e of g)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function b(g){const e={};return g.integrity&&(e.integrity=g.integrity),g.referrerPolicy&&(e.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?e.credentials="include":g.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(g){if(g.ep)return;g.ep=!0;const e=b(g);fetch(g.href,e)}})();function I(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var A={},E;function M(){if(E)return A;E=1,A.getAttrs=function(e,t,n){const i=/[^\t\n\f />"'=]/,l=" ",r="=",s=".",p="#",f=[];let h="",o="",d=!0,m=!1;for(let y=t+n.leftDelimiter.length;y<e.length;y++){if(e.slice(y,y+n.rightDelimiter.length)===n.rightDelimiter){h!==""&&f.push([h,o]);break}const u=e.charAt(y);if(u===r&&d){d=!1;continue}if(u===s&&h===""){e.charAt(y+1)===s?(h="css-module",y+=1):h="class",d=!1;continue}if(u===p&&h===""){h="id",d=!1;continue}if(u==='"'&&o===""&&!m){m=!0;continue}if(u==='"'&&m){m=!1;continue}if(u===l&&!m){if(h==="")continue;f.push([h,o]),h="",o="",d=!0;continue}if(!(d&&u.search(i)===-1)){if(d){h+=u;continue}o+=u}}if(n.allowedAttributes&&n.allowedAttributes.length){const y=n.allowedAttributes;return f.filter(function(u){const _=u[0];function O(w){return _===w||w instanceof RegExp&&w.test(_)}return y.some(O)})}return f},A.addAttrs=function(e,t){for(let n=0,i=e.length;n<i;++n){const l=e[n][0];l==="class"?t.attrJoin("class",e[n][1]):l==="css-module"?t.attrJoin("css-module",e[n][1]):t.attrPush(e[n])}return t},A.hasDelimiters=function(e,t){if(!e)throw new Error('Parameter `where` not passed. Should be "start", "end" or "only".');return function(n){const i=t.leftDelimiter.length+1+t.rightDelimiter.length;if(!n||typeof n!="string"||n.length<i)return!1;function l(o){const d=o.charAt(t.leftDelimiter.length)===".",m=o.charAt(t.leftDelimiter.length)==="#";return d||m?o.length>=i+1:o.length>=i}let r,s,p,f;const h=i-t.rightDelimiter.length;switch(e){case"start":p=n.slice(0,t.leftDelimiter.length),r=p===t.leftDelimiter?0:-1,s=r===-1?-1:n.indexOf(t.rightDelimiter,h),f=n.charAt(s+t.rightDelimiter.length),f&&t.rightDelimiter.indexOf(f)!==-1&&(s=-1);break;case"end":r=n.lastIndexOf(t.leftDelimiter),s=r===-1?-1:n.indexOf(t.rightDelimiter,r+h),s=s===n.length-t.rightDelimiter.length?s:-1;break;case"only":p=n.slice(0,t.leftDelimiter.length),r=p===t.leftDelimiter?0:-1,p=n.slice(n.length-t.rightDelimiter.length),s=p===t.rightDelimiter?n.length-t.rightDelimiter.length:-1;break;default:throw new Error(`Unexpected case ${e}, expected 'start', 'end' or 'only'`)}return r!==-1&&s!==-1&&l(n.substring(r,s+t.rightDelimiter.length))}},A.removeDelimiter=function(e,t){const n=c(t.leftDelimiter),i=c(t.rightDelimiter),l=new RegExp("[ \\n]?"+n+"[^"+n+i+"]+"+i+"$"),r=e.search(l);return r!==-1?e.slice(0,r):e};function c(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}A.escapeRegExp=c,A.getMatchingOpeningToken=function(e,t){if(e[t].type==="softbreak")return!1;if(e[t].nesting===0)return e[t];const n=e[t].level,i=e[t].type.replace("_close","_open");for(;t>=0;--t)if(e[t].type===i&&e[t].level===n)return e[t];return!1};const D=/[&<>"]/,b=/[&<>"]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function g(e){return a[e]}return A.escapeHtml=function(e){return D.test(e)?e.replace(b,g):e},A}var v,T;function C(){if(T)return v;T=1;const c=M();v=a=>{const g=new RegExp("^ {0,3}[-*_]{3,} ?"+c.escapeRegExp(a.leftDelimiter)+"[^"+c.escapeRegExp(a.rightDelimiter)+"]");return[{name:"fenced code blocks",tests:[{shift:0,block:!0,info:c.hasDelimiters("end",a)}],transform:(e,t)=>{const n=e[t],i=n.info.lastIndexOf(a.leftDelimiter),l=c.getAttrs(n.info,i,a);c.addAttrs(l,n),n.info=c.removeDelimiter(n.info,a)}},{name:"inline nesting 0",tests:[{shift:0,type:"inline",children:[{shift:-1,type:e=>e==="image"||e==="code_inline"},{shift:0,type:"text",content:c.hasDelimiters("start",a)}]}],transform:(e,t,n)=>{const i=e[t].children[n],l=i.content.indexOf(a.rightDelimiter),r=e[t].children[n-1],s=c.getAttrs(i.content,0,a);c.addAttrs(s,r),i.content.length===l+a.rightDelimiter.length?e[t].children.splice(n,1):i.content=i.content.slice(l+a.rightDelimiter.length)}},{name:"tables",tests:[{shift:0,type:"table_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:c.hasDelimiters("only",a)}],transform:(e,t)=>{const n=e[t+2],i=c.getMatchingOpeningToken(e,t),l=c.getAttrs(n.content,0,a);c.addAttrs(l,i),e.splice(t+1,3)}},{name:"tables thead metadata",tests:[{shift:0,type:"tr_close"},{shift:1,type:"thead_close"},{shift:2,type:"tbody_open"}],transform:(e,t)=>{const n=c.getMatchingOpeningToken(e,t),i=e[t-1];let l=0,r=t;for(;--r;){if(e[r]===n){e[r-1].meta=Object.assign({},e[r+2].meta,{colsnum:l});break}l+=(e[r].level===i.level&&e[r].type===i.type)>>0}e[t+2].meta=Object.assign({},e[t+2].meta,{colsnum:l})}},{name:"tables tbody calculate",tests:[{shift:0,type:"tbody_close",hidden:!1}],transform:(e,t)=>{let n=t-2;for(;n>0&&e[--n].type!=="tbody_open";);const i=e[n].meta.colsnum>>0;if(i<2)return;const l=e[t].level+2;for(let r=n;r<t;r++){if(e[r].level>l)continue;const s=e[r],p=s.hidden?0:s.attrGet("rowspan")>>0,f=s.hidden?0:s.attrGet("colspan")>>0;if(p>1){let h=i-(f>0?f:1);for(let o=r,d=p;d>1;o++)e[o].type=="tr_open"&&(e[o].meta=Object.assign({},e[o].meta),e[o].meta&&e[o].meta.colsnum&&(h-=1),e[o].meta.colsnum=h,d--)}if(s.type=="tr_open"&&s.meta&&s.meta.colsnum){const h=s.meta.colsnum;for(let o=r,d=0;o<t;o++){if(e[o].type=="td_open")d+=1;else if(e[o].type=="tr_close")break;d>h&&(e[o].hidden||b(e[o]))}}if(f>1){const h=[];let o=r+3,d=i;for(let u=r;u>n;u--)if(e[u].type=="tr_open"){d=e[u].meta&&e[u].meta.colsnum||d;break}else e[u].type==="td_open"&&h.unshift(u);for(let u=r+2;u<t;u++)if(e[u].type=="tr_close"){o=u;break}else e[u].type=="td_open"&&h.push(u);const m=h.indexOf(r);let y=d-m;y=y>f?f:y,f>y&&s.attrSet("colspan",y+"");for(let u=h.slice(d+1-i-y)[0];u<o;u++)e[u].hidden||b(e[u])}}}},{name:"inline attributes",tests:[{shift:0,type:"inline",children:[{shift:-1,nesting:-1},{shift:0,type:"text",content:c.hasDelimiters("start",a)}]}],transform:(e,t,n)=>{const i=e[t].children[n],l=i.content,r=c.getAttrs(l,0,a),s=c.getMatchingOpeningToken(e[t].children,n-1);c.addAttrs(r,s),i.content=l.slice(l.indexOf(a.rightDelimiter)+a.rightDelimiter.length)}},{name:"list softbreak",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:c.hasDelimiters("only",a)}]}],transform:(e,t,n)=>{const l=e[t].children[n].content,r=c.getAttrs(l,0,a);let s=t-2;for(;e[s-1]&&e[s-1].type!=="ordered_list_open"&&e[s-1].type!=="bullet_list_open";)s--;c.addAttrs(r,e[s-1]),e[t].children=e[t].children.slice(0,-2)}},{name:"list double softbreak",tests:[{shift:0,type:e=>e==="bullet_list_close"||e==="ordered_list_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:c.hasDelimiters("only",a),children:e=>e.length===1},{shift:3,type:"paragraph_close"}],transform:(e,t)=>{const i=e[t+2].content,l=c.getAttrs(i,0,a),r=c.getMatchingOpeningToken(e,t);c.addAttrs(l,r),e.splice(t+1,3)}},{name:"list item end",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-1,type:"text",content:c.hasDelimiters("end",a)}]}],transform:(e,t,n)=>{const i=e[t].children[n],l=i.content,r=c.getAttrs(l,l.lastIndexOf(a.leftDelimiter),a);c.addAttrs(r,e[t-2]);const s=l.slice(0,l.lastIndexOf(a.leftDelimiter));i.content=D(s)!==" "?s:s.slice(0,-1)}},{name:`
{.a} softbreak then curly in start`,tests:[{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:c.hasDelimiters("only",a)}]}],transform:(e,t,n)=>{const i=e[t].children[n],l=c.getAttrs(i.content,0,a);let r=t+1;for(;e[r+1]&&e[r+1].nesting===-1;)r++;const s=c.getMatchingOpeningToken(e,r);c.addAttrs(l,s),e[t].children=e[t].children.slice(0,-2)}},{name:"horizontal rule",tests:[{shift:0,type:"paragraph_open"},{shift:1,type:"inline",children:e=>e.length===1,content:e=>e.match(g)!==null},{shift:2,type:"paragraph_close"}],transform:(e,t)=>{const n=e[t];n.type="hr",n.tag="hr",n.nesting=0;const i=e[t+1].content,l=i.lastIndexOf(a.leftDelimiter),r=c.getAttrs(i,l,a);c.addAttrs(r,n),n.markup=i,e.splice(t+1,2)}},{name:"end of block",tests:[{shift:0,type:"inline",children:[{position:-1,content:c.hasDelimiters("end",a),type:e=>e!=="code_inline"&&e!=="math_inline"}]}],transform:(e,t,n)=>{const i=e[t].children[n],l=i.content,r=c.getAttrs(l,l.lastIndexOf(a.leftDelimiter),a);let s=t+1;do if(e[s]&&e[s].nesting===-1)break;while(s++<e.length);const p=c.getMatchingOpeningToken(e,s);c.addAttrs(r,p);const f=l.slice(0,l.lastIndexOf(a.leftDelimiter));i.content=D(f)!==" "?f:f.slice(0,-1)}}]};function D(a){return a.slice(-1)[0]}function b(a){a.hidden=!0,a.children&&a.children.forEach(g=>(g.content="",b(g),void 0))}return v}var x,j;function R(){if(j)return x;j=1;const c=C(),D={leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:[]};x=function(i,l){let r=Object.assign({},D);r=Object.assign(r,l);const s=c(r);function p(f){const h=f.tokens;for(let o=0;o<h.length;o++)for(let d=0;d<s.length;d++){const m=s[d];let y=null;if(m.tests.every(_=>{const O=b(h,o,_);return O.j!==null&&(y=O.j),O.match}))try{m.transform(h,o,y),(m.name==="inline attributes"||m.name==="inline nesting 0")&&d--}catch(_){console.error(`markdown-it-attrs: Error in pattern '${m.name}': ${_.message}`),console.error(_.stack)}}}i.core.ruler.before("linkify","curly_attributes",p)};function b(n,i,l){const r={match:!1,j:null},s=l.shift!==void 0?i+l.shift:l.position;if(l.shift!==void 0&&s<0)return r;const p=e(n,s);if(p===void 0)return r;for(const f of Object.keys(l))if(!(f==="shift"||f==="position")){if(p[f]===void 0)return r;if(f==="children"&&a(l.children)){if(p.children.length===0)return r;let h;const o=l.children,d=p.children;if(o.every(m=>m.position!==void 0)){if(h=o.every(m=>b(d,m.position,m).match),h){const m=t(o).position;r.j=m>=0?m:d.length+m}}else for(let m=0;m<d.length;m++)if(h=o.every(y=>b(d,m,y).match),h){r.j=m;break}if(h===!1)return r;continue}switch(typeof l[f]){case"boolean":case"number":case"string":if(p[f]!==l[f])return r;break;case"function":if(!l[f](p[f]))return r;break;case"object":if(g(l[f])){if(l[f].every(o=>o(p[f]))===!1)return r;break}default:throw new Error(`Unknown type of pattern test (key: ${f}). Test should be of type boolean, number, string, function or array of functions.`)}}return r.match=!0,r}function a(n){return Array.isArray(n)&&n.length&&n.every(i=>typeof i=="object")}function g(n){return Array.isArray(n)&&n.length&&n.every(i=>typeof i=="function")}function e(n,i){return i>=0?n[i]:n[n.length+i]}function t(n){return n.slice(-1)[0]||{}}return x}var P=R();const L=I(P);window.markdownItAttrs=L;
