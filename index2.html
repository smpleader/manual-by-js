<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>ManualByJS</title> 
        <link href="assets/customized_b5.css" rel="stylesheet">
    </head>
    <body>
        <div class="">
            <!-- Responsive navbar-->
            <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom fixed-top">
                <div class="container-xxl bd-gutter px-lg-5">
                    <div class="bd-navbar-toggle">
                        <button class="navbar-toggler me-2 p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdSidebar" aria-controls="bdSidebar" aria-label="Toggle docs navigation">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="bi" fill="currentColor" viewBox="0 0 16 16">
                                <use href="assets/icons.svg#browse"></use>
                            </svg>
                            <span class="d-none fs-6 pe-1">Browse</span>
                        </button>
                    </div>
                    <a class="navbar-brand bg-transparent fw-bold" href="index2.html">Manual By JS</a> 
                     <button class="btn btn-link ms-auto" type="button" data-bs-toggle="modal" data-bs-target="#searchModal">
                        <i class="bi bi-search"></i>
                    </button>
                    <button class="navbar-toggler d-lg-none order-3 p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdNavbar" aria-controls="bdNavbar" aria-label="Toggle navigation">
                      <svg class="bi" aria-hidden="true"><use xlink:href="assets/icons.svg#three-dots"></use></svg>
                    </button>
                    <div class="offcanvas-lg offcanvas-end flex-grow-1" tabindex="-1" id="bdNavbar" aria-labelledby="bdNavbarOffcanvasLabel" data-bs-scroll="true">
                        <div class="offcanvas-header px-4 pb-0">
                        <h5 class="offcanvas-title" id="bdNavbarOffcanvasLabel">MENU</h5>
                        <button type="button" class="btn-close " data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#bdNavbar"></button>
                        </div>
                
                        <div class="offcanvas-body p-4 pt-0 p-lg-0"> 
                        <hr class="d-lg-none ">
                
                        <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
                            <li class="nav-item col-6 col-lg-auto">
                            <a class="nav-link py-2 px-0 px-lg-2" href="https://github.com/smpleader/manual-by-js" target="_blank" rel="noopener">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="navbar-nav-svg" viewBox="0 0 512 499.36" role="img"><title>GitHub</title><use href="assets/icons.svg#github"></use></svg>
                                <small class="d-lg-none ms-2">GitHub</small>
                            </a>
                            </li>
                            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                            <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
                            <hr class="d-lg-none my-2  ">
                            </li> 
                
                            <li class="nav-item dropdown">
                            <button type="button" class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static" id="mbj-sprint-label">
                                Milestone here  
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" id="mbj-sprint">
                            </ul>
                            </li>
                            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                            <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
                            <hr class="d-lg-none my-2 ">
                            </li>
                            
                            <li class="nav-item dropdown">
                                <button type="button" class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static" >
                                EN 
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end" id="mbj-translator">
                                </ul>
                            </li>
                            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                            <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
                            <hr class="d-lg-none my-2 ">
                            </li> 
                            <li class="nav-item col-6 col-lg-auto">
                            <a class="nav-link py-2 px-0 px-lg-2" href="index.html" target="_blank" rel="noopener">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="navbar-nav-svg" role="img"><title>First template</title>
                                    <use href="assets/icons.svg#sun-fill"></use>
                                </svg>
                            </a>
                            </li>
                        </ul>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Header-->
            <!-- Features section-->
            <section class=" py-4 border-bottom">
                <div class="container-xxl bd-gutter bd-layout">
                    <aside class="bd-sidebar">
                        <div class="offcanvas-lg offcanvas-start" tabindex="-1" id="bdSidebar" aria-labelledby="bdSidebarOffcanvasLabel">
                            <div class="offcanvas-header border-bottom">
                                <h5 class="offcanvas-title" id="bdSidebarOffcanvasLabel">Browse docs</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#bdSidebar"></button>
                            </div>
                            <div class="offcanvas-body">
                                <nav class="bd-links w-100" id="bd-docs-nav" aria-label="Docs navigation">
                                    <ul class="bd-links-nav list-unstyled mb-0 pb-3 pb-md-2 pe-lg-2" id="mbj-menu"> 
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </aside>
                    <div class="bd-main">
                        <div class="bd-index-table bd-toc mb-2 my-lg-0 ps-xl-3 mb-lg-5 text-muted">
                            <button class="btn btn-link link-dark p-md-0 mb-2 mb-md-0 text-decoration-none bd-toc-toggle d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tocContents" aria-expanded="false" aria-controls="tocContents">
                                <span class="selected-section">On this page</span>
                                <i class="bi bi-chevron-expand"></i>
                            </button>
                            <strong class="d-none d-md-block h6 my-2">On this page</strong>
                            <hr class="d-none d-md-block my-2">
                            <div class="collapse bd-toc-collapse" id="tocContents">
                                <nav class="index-table" id="mbj-page-index">
                                </nav>
                            </div>
                        </div>
                        <div class="bd-content pe-lg-2" data-bs-spy="scroll" data-bs-target="#mbj-page-index" data-bs-smooth-scroll="true" class="scrollspy-example-2" tabindex="0" id="restore-selectors">
                            <div id="mbj-page"></div> 
                            <hr class="mt-5"/>
                            <div class="main-content-navigation" id="mbj-page-nav">
                                <a href="#" class=""><span>Previous page</span>Article 1</a>
                                <a href="#" class="text-end"><span>Next page</span>Article 3</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section> 
            <div class="py-3 bg-secondary copyright">
                <div class="container px-5"><p class="m-0 text-center text-white">Copyright &copy; C2B5 2025</div>
            </div>
        </div>
        <div class="modal fade search-modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel">
            <div class="modal-dialog">
                <div class="modal-content mt-5">
                    <div class="d-flex">
                    <input type="text" class="form-control shadow-none border-0 form-control-lg" id="searcher-input" placeholder="Type and hit enter..." aria-label="Type and hit enter...">
                    <button type="reset" title="Clear the query" aria-label="Clear the query" class="btn-close mt-2 me-2  btn-lg" onClick="searcher.clear()"></button>
                    </div>
                    <div class="searcher-options"></div>
                    <div class="" id="searcher-progress"></div>
                    <div class="" id="searcher-result"></div>
                </div>
            </div>
        </div>
        <a href="#" id="go-to-top" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
                <use href="assets/icons.svg#arrow-up"></use>
            </svg>
        </a> 
<script src="assets/customized_b5.js"></script>
<script src="assets/markdown-it.min.js"></script>
<script src="assets/bundle.min.js"></script>
<script src="assets/manual.js"></script>
<script src="assets/search.js"></script>
<script>
const mkd = markdownit({
                html: true,
                linkify: true,
                typographer: true
            })
    mkd.use(window.markdownItAttrs)
const sprintMenu = [
    {href: "#", title: "0.1.x"}
    ]
const langMenu = [
    {href: "#", title: "EN"},
    {href: "#", title: "CN"},
    {href: "#", title: "JP"},
    {href: "#", title: "FR"},
    {href: "#", title: "VI"},
    ]
const app = new ManualByJs({
    homePage: "page-overview", 
    hook: {
        afterRead: function (content){
            return app.current.fileExt == "md" ? mkd.render(content) : null
        },
        createMenuItem: function(item) { 

            var str = ''
            if(item.slug)
            {
                str = '<li><a href="#'+ app.prefix + item.slug +'" class="bd-links-link d-inline-block rounded '+ item.slug +'">'+ item.title +'</a></li>'
                if(app.flag && app.counter == app.menu.length)
                {
                    str += '</ul></li>'
                }
            }
            else if(item.href)
            {
                str = '<li><a href="'+ item.href +'" class="bd-links-link d-inline-block rounded" '+ (item.target?'target="'+item.target+'">':'>') + item.title +'</a></li>'
                if(app.flag && app.counter == app.menu.length)
                {
                    str += '</ul></li>'
                }
            }
            else
            {
                if(app.flag)
                {
                    str += '</ul></li>'
                }
                
                str +=  item.title == '---' ? '<li class="bd-links-span-all mt-1 mb-3 mx-4 border-top"></li>' : ('<li class="bd-links-group py-2">'+
                    '<strong class="ps-4 bd-links-heading d-flex w-100 align-items-center fw-semibold">' + item.title + '</strong>'+
                    '<ul class="list-unstyled fw-normal pb-2 small">')

                app.flag = 1
            }
            
            return str
        },
        afterInit: function()
        { 
            // menu sprint
            let milestoneMenu = document.getElementById("mbj-sprint")
            milestoneMenu.innerHTML = ''
            for(const item of sprintMenu)
            {
            milestoneMenu.insertAdjacentHTML("beforeend", 
                    '<li><a class="dropdown-item" href="' + item.href + '">'+ item.title +'</a></li>' )
            }
            document.getElementById("mbj-sprint-label").innerHTML =  sprintMenu[0].title

            // menu translate
            let translatorMenu = document.getElementById("mbj-translator")
            for(const item of langMenu)
            {
                translatorMenu.insertAdjacentHTML("beforeend", 
                    '<li><a class="dropdown-item" href="' + item.href + '">'+ item.title +'</a></li>' )
            }
            return true
        },
        createIndexTable: function()
        {   
            if(app.current.index && app.current.index.length > 0)
            {
                document.getElementById("mbj-page").parentElement.parentElement.parentElement.classList.remove('no-index-table')
                app._createDefaultIndexTable()
                new bootstrap.ScrollSpy(document.body, { target: "#mbj-page-index"})
                const textBtnToggle = bdTocToggle.querySelector('.selected-section');
               // const iconBtnToggle = bdTocToggle.querySelector('.bi');
                const firstScrollSpyEl = document.querySelector('[data-bs-spy="scroll"]');

                window.addEventListener('activate.bs.scrollspy', () => {
                    var activeLink = document.querySelector('.bd-toc-collapse a.active');
                    if(window.pageYOffset === 0) textBtnToggle.innerHTML = 'On this page';
                    else textBtnToggle.innerHTML = activeLink.innerHTML; 
                }) 
            }
            else
            {
                document.getElementById("mbj-page").parentElement.parentElement.parentElement.classList.add('no-index-table')
            }
        }
    }
})
const searcher = new SearchForManual(app, {
    hook: {
        afterSearching: function(){   
            searcher.sfm.prg.innerHTML = "<p class='ms-3'><i>" + searcher.result.length +" found</i></p>"
            if(searcher.result.length)
            {   
                let lst = '<div class="list-group">'
                for(const item of searcher.result)
                { 
                     lst += `<a href="#${item.link}" class="list-group-item list-group-item-action openModal" data-bs-dismiss="modal">
                            <div class="d-flex w-100 justify-content-between">
                            <h5 class="mb-1">${item.title}</h5> 
                            </div>
                            <p class="mb-1">..${item.found}..</p>
                        </a>`
                }
                lst += '</div>'
                searcher.sfm.res.innerHTML = ''
                searcher.sfm.res.insertAdjacentHTML("afterbegin", lst)
                document.querySelectorAll("a.openModal").forEach((item) => {
                    item.addEventListener('click', () => {  document.location.href = item.href  })
                }) 
            }
            else
            {
                searcher.sfm.res.innerHTML = ""
            }
        },
        onSearching: function( i, page, found){
            searcher.sfm.prg.innerHTML = "<p class='ms-3'><i>" + 
                ( i ? "searching " + i + "/" + searcher.manual.menu.length : "wait for your input" )
                + "</i></p>"
        },
        afterInit: function()
        { 
             document.getElementById("searchModal").addEventListener('shown.bs.modal', () => {
                searcher.sfm.input.focus()
            })
        }
    }
})
</script>
</body>
</html>