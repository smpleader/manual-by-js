<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>ManualByJS</title> 
        <link href="assets/customized_b5.css" rel="stylesheet">
    </head>
    <body>
        <div class="">
            <!-- Responsive navbar-->
            <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom fixed-top">
                <div class="container-xxl bd-gutter px-lg-5">
                    <a class="navbar-brand bg-transparent fw-bold" href="index2.html">Manual By JS</a>
                    <!-- SEARCH -->
                    <button class="btn btn-link " type="button" data-bs-toggle="modal" data-bs-target="#searchModal">
                        <i class="bi bi-search"></i>
                    </button> 
                    <button class="navbar-toggler d-lg-none order-3 p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdNavbar" aria-controls="bdNavbar" aria-label="Toggle navigation">
                      <svg class="bi" aria-hidden="true"><use xlink:href="assets/icons.svg#three-dots"></use></svg>
                    </button>
                    <div class="offcanvas-lg offcanvas-end  " tabindex="-1" id="bdNavbar" aria-labelledby="bdNavbarOffcanvasLabel" data-bs-scroll="true">
                        <div class="offcanvas-header px-4 pb-0">
                        <h5 class="offcanvas-title" id="bdNavbarOffcanvasLabel">MENU</h5>
                        <button type="button" class="btn-close " data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#bdNavbar"></button>
                        </div>
                
                        <div class="offcanvas-body p-4 pt-0 p-lg-0"> 
                        <hr class="d-lg-none ">
                
                        <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
                            <li class="nav-item col-6 col-lg-auto">
                            <a class="nav-link py-2 px-0 px-lg-2" href="https://github.com/smpleader/manual-by-js" target="_blank" rel="noopener">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="navbar-nav-svg" viewBox="0 0 512 499.36" role="img"><title>GitHub</title><use href="assets/icons.svg#github"></use></svg>
                                <small class="d-lg-none ms-2">GitHub</small>
                            </a>
                            </li>
                            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                            <div class="vr d-none d-lg-flex h-100 mx-lg-2 "></div>
                            <hr class="d-lg-none my-2  ">
                            </li> 
                
                            <li class="nav-item dropdown">
                            <button type="button" class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static" id="mbj-sprint-label">
                                Milestone here  
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" id="mbj-sprint">
                            </ul>
                            </li>
                            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                            <div class="vr d-none d-lg-flex h-100 mx-lg-2 "></div>
                            <hr class="d-lg-none my-2 ">
                            </li>
                            
                            <li class="nav-item dropdown">
                                <button type="button" class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static" >
                                EN 
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end" id="mbj-translator">
                                </ul>
                            </li>
                            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                            <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
                            <hr class="d-lg-none my-2 ">
                            </li> 
                        </ul>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Header-->
            <!-- Features section-->
            <section class=" py-4 border-bottom">
                <div class="container-xxl bd-gutter bd-layout  no-sidebar"> 
                    <div class="row">
                        <div class="bd-content pe-lg-2"><!-- content here -->
                        </div>
                    </div>
                    <div id="mbj-menu" class="row"> </div>
                </div>
            </section> 
            <div class="py-3 bg-secondary copyright">
                <div class="container px-5"><p class="m-0 text-center text-white">Copyright &copy; C2B5 2025</div>
            </div>
        </div>
        <div class="modal" id="pageModal" tabindex="-1" aria-labelledby="pageModalLabel" >
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="page-title">Full screen modal</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="bd-main">
                            <div class="bd-index-table bd-toc mb-2 my-lg-0 ps-xl-3 mb-lg-5 text-muted">
                                <button class="btn btn-link link-dark p-md-0 mb-2 mb-md-0 text-decoration-none bd-toc-toggle d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tocContents" aria-expanded="false" aria-controls="tocContents">
                                    <span class="selected-section">On this page</span>
                                    <i class="bi bi-chevron-expand"></i>
                                </button>
                                <strong class="d-none d-md-block h6 my-2">On this page</strong>
                                <hr class="d-none d-md-block my-2">
                                <div class="collapse bd-toc-collapse" id="tocContents">
                                    <nav class="index-table" id="mbj-page-index">
                                    </nav>
                                </div>
                            </div>
                            <div class="bd-content- pe-lg-2" data-bs-spy="scroll" data-bs-target="#mbj-page-index" data-bs-smooth-scroll="true" class="scrollspy-example-2" tabindex="0" id="restore-selectors">
                                <div id="mbj-page"></div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer  ">
                        <div class=" flex-grow-1" id="mbj-page-nav">
                            <a href="#" class=""><span>Previous page</span>Article 1</a>
                            <a href="#" class="text-end"><span>Next page</span>Article 3</a>
                        </div>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal search-modal" id="searchModal" tabindex="-1" aria-labelledby="searcher-input" >
            <div class="modal-dialog">
                <div class="modal-content mt-5">
                    <input type="text" class="form-control" id="searcher-input" placeholder="Type and hit enter..." aria-label="Type and hit enter...">
                    <div class="searcher-options"></div>
                    <div class="" id="searcher-progress"></div>
                    <div class="" id="searcher-result"></div>
                </div>
            </div>
        </div>
        <a href="#" id="go-to-top" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
                <use href="assets/icons.svg#arrow-up"></use>
            </svg>
        </a> 
<script src="assets/customized_b5.js"></script>
<script src="assets/markdown-it.min.js"></script>
<script src="assets/manual.js"></script>
<script src="assets/search.js"></script>
<script>
const mkd = markdownit({
                html: true,
                linkify: true,
                typographer: true
            })
const sprintMenu = [
    {href: "#", title: "0.1.x"}
    ]
const langMenu = [
    {href: "#", title: "EN"},
    {href: "#", title: "CN"},
    {href: "#", title: "JP"},
    {href: "#", title: "FR"},
    {href: "#", title: "VI"},
    ]
const app = new ManualByJs({
    homePage: "page-overview",
    hook: {
        afterRead: function (content){
            return app.current.fileExt == "md" ? mkd.render(content) : null
        },
        createMenu: function() { 

            let counter = 0
            var lines = '', _flag = 0
            for(const item of app.menu)
            {
                counter++
                if(item.slug)
                {
                    lines += '<li><a href="#'+ app.prefix + item.slug +'" class="openModal '+ item.slug +'" >'+ item.title +'</a></li>'
                    if(_flag && app.counter == app.menu.length)
                    {
                        lines += '</ul></div></div></div>'
                        _flag = 0
                    }
                }
                else if(item.href)
                {
                    lines += '<li><a href="'+ item.href +'" class="" '+ (item.target?'target="'+item.target+'">':'>') + item.title +'</a></li>'
                    if(_flag && app.counter == app.menu.length)
                    {
                        lines += '</ul></div></div></div>'
                        _flag = 0
                    }
                }
                else
                {
                    if(_flag)
                    {
                        lines += '</ul></div></div></div>'
                    }
                    
                    lines +=  '<div class="col"><div class="card"><div class="card-header">' +  item.title +
                            '</div><div class="card-body">' 

                    _flag = 1
                }   
            }
                    
            app.mbj.menu.insertAdjacentHTML("beforeend", lines )

        },
        afterInit: function()
        { 
            // menu sprint
            let milestoneMenu = document.getElementById("mbj-sprint")
            milestoneMenu.innerHTML = ''
            for(const item of sprintMenu)
            {
            milestoneMenu.insertAdjacentHTML("beforeend", 
                    '<li><a class="dropdown-item" href="' + item.href + '">'+ item.title +'</a></li>' )
            }
            document.getElementById("mbj-sprint-label").innerHTML =  sprintMenu[0].title

            // menu translate
            let translatorMenu = document.getElementById("mbj-translator")
            for(const item of langMenu)
            {
                translatorMenu.insertAdjacentHTML("beforeend", 
                    '<li><a class="dropdown-item" href="' + item.href + '">'+ item.title +'</a></li>' )
            }
            
            document.querySelectorAll("a.openModal").forEach((item) => {
                item.addEventListener('click', () => {
                    let a = new  bootstrap.Modal( document.getElementById("pageModal"))
                    a.show()
                })
            })
        },
        createPageNav: function(ordering)
        {
            app.mbj.pageNav.innerHTML = ""
            app.prev = app.findPageByOrder(ordering, -1)
            if(false !== app.prev)
            {
                app.mbj.pageNav.insertAdjacentHTML("afterbegin", 
                    '<a href="#'+ app.prefix + app.prev.slug+'" class="btn btn-outline-primary me-2"><< ' +
                        app.prev.title +
                    '</a>');
            }

            app.next = app.findPageByOrder(ordering, 1)
            if(false !==  app.next)
            {
                app.mbj.pageNav.insertAdjacentHTML("beforeend", 
                    '<a href="#'+ app.prefix + app.next.slug+'" class="btn btn-outline-primary">' +
                        app.next.title +
                    ' >></a>');
            }
        },
        createIndexTable: function()
        {   
            if(app.current.index && app.current.index.length > 0)
            {
                document.getElementById("mbj-page").parentElement.parentElement.parentElement.classList.remove('no-index-table')
                app._createDefaultIndexTable()
                new bootstrap.ScrollSpy(document.body, { target: "#mbj-page-index"})
                const textBtnToggle = bdTocToggle.querySelector('.selected-section');
                //const firstScrollSpyEl = document.querySelector('[data-bs-spy="scroll"]'); 

                window.addEventListener('activate.bs.scrollspy', () => {
                    var activeLink = document.querySelector('.bd-toc-collapse a.active');
                    if(window.pageYOffset === 0) textBtnToggle.innerHTML = 'On this page';
                    else textBtnToggle.innerHTML = activeLink.innerHTML; 
                }) 
            }
            else
            {
                document.getElementById("mbj-page").parentElement.parentElement.parentElement.classList.add('no-index-table')
            }
        },
        afterNavigate: function()
        {
            app._createIndexTable()
            app._createPageNav()
            document.getElementById("page-title").innerText = app.current.title
        }
    }
})
const searcher = new SearchForManual(app)
document.getElementById("searchModal").addEventListener('shown.bs.modal', () => {
    document.getElementById("searcher-input").focus()
})
document.getElementById("searchModal").addEventListener('hidden.bs.modal', () => {
    document.getElementById("searcher-input").value = ""
})
document.getElementById("pageModal").addEventListener('shown.bs.modal', () => {
    const scrollElem = document.querySelector(`[data-bs-spy="scroll"]`)
    bootstrap.ScrollSpy.getOrCreateInstance(scrollElem).refresh()
})
</script>
</body>
</html>